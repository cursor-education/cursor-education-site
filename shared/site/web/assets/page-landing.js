/* 2015-02-08 18:02:59 */
var app,helpers;helpers={scrollTo:function(a,b,c){var d,e,f,g,h,i;if(!(0>b)&&window.scrollToWorking!==!0)return d=document.documentElement,0===d.scrollTop&&(h=d.scrollTop,++d.scrollTop,h+1!==d.scrollTop--&&(d=document.body)),f=d.scrollTop,i=a,"object"==typeof f&&(f=f.offsetTop),"object"==typeof i&&(i=i.offsetTop),e=function(a){return a--,a*a*a+1},g=function(a,b,c,d,e,f,h,i){return 0>d||d>1||0>=e?i():(a.scrollTop=b-(b-c)*h(d),d+=e*f,setTimeout(function(){return g(a,b,c,d,e,f,h,i)},f))},window.scrollToWorking=!0,g(d,f,i,0,1/b,20,e,function(){return window.scrollToWorking=!1,c()})},scrollHook:function(){return helpers.scrollHookHeader(),helpers.scrollHookMenu()},scrollHookHeader:function(){var a,b,c,d,e,f;return f=document.body.scrollTop,e=document.getElementById("header-menu"),e.hasAttribute("data-animate-from-element")?(c=document.getElementById(e.getAttribute("data-animate-from-element")),d=Math.max(c.offsetTop,100)):d=Math.max(e.getAttribute("data-animate-from"),100),a="open",b=e.getAttribute("data-animate-effect"),f>=d-50?e.classList.add(a):e.classList.remove(a)},scrollHookMenuReset:function(){var a,b,c,d,e,f;for(a="selected",c=document.getElementById("menu").getElementsByClassName(a),f=[],d=0,e=c.length;e>d;d++)b=c[d],f.push(b.classList.remove(a));return f},scrollHookMenu:function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(g=document.body.scrollTop,helpers.scrollHookMenuReset(),a="selected",d=document.getElementById("menu").getElementsByTagName("a"),f=-100,e=null,h=null,k=0,l=d.length;l>k;k++)c=d[k],b=c.getAttribute("data-top"),b&&(i=document.getElementById(b),j=g-(i.offsetTop+f),j>=f&&(null===e||e>Math.abs(j))&&(h=c));return(null!=h?h.classList.contains(a):void 0)?void 0:null!=h?h.classList.add(a):void 0},parallax:function(){var a,b,c,d,e,f,g,h;for(c=[document.getElementById("header"),document.getElementById("section-bg-inline")],e=scroll,0>e&&(e=0),h=[],f=0,g=c.length;g>f;f++)b=c[f],b&&(d=scroll>-1,d=d&&scroll>=b.offsetTop-b.offsetHeight,d=d&&scroll<=b.offsetTop+b.offsetHeight,d?(a=e-b.offsetTop,h.push(b.style.backgroundPositionY=""+a+"px")):h.push(void 0));return h}},app={init:function(){return app.initScrollHook(),app.initGoToTop(),app.initGallery()},initScrollHook:function(){return window.onscroll=function(){return helpers.scrollHook()},window.onscroll()},initGoToTop:function(){var a,b,c,d,e;for(d=document.getElementsByClassName("go-to-top"),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(function(a){return a.onclick=function(b){var c,d,e;return b.preventDefault(),c=a.getAttribute("data-top"),e=c?document.getElementById(c).offsetTop:0,a.hasAttribute("data-top-offset")&&(d=parseInt(a.getAttribute("data-top-offset")),e+=d),helpers.scrollHookMenuReset(),a.classList.add("selected"),helpers.scrollTo(e,1e3,function(){return helpers.scrollHookMenuReset(),a.classList.add("selected")})}}(a));return e},initGallery:function(){var a,b,c,d,e;for(d=document.getElementsByClassName("gallery"),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(function(a){var b,c,d;return d="hidden",c=a.getAttribute("data-gallery-class"),b=a.getElementsByClassName(c),setInterval(function(){var c,e,f;for(c=parseInt(Math.random()*b.length),e=0,f=b.length;f>e;e++)a=b[e],a.classList.contains(d)||a.classList.add(d);return b[c].classList.remove(d),console.log(11,a)},2e3)}(a));return e}},app.init();